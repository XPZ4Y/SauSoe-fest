!function(){"use strict";const e=100,t=1e3,n="/gamedebug",s={mousepath:[],clicks:[],keypresses:[]};let o=null,a={x:-1,y:-1},i=null;function r(e){a.x=e.pageX,a.y=e.pageY}function c(){-1!==a.x&&s.mousepath.push([a.x,a.y]),s.mousepath.length>t&&s.mousepath.shift()}function m(e){let t="";e.target&&e.target.textContent?t=e.target.textContent.trim().substring(0,100):e.target&&e.target.tagName&&(t=`<`+e.target.tagName.toLowerCase()+`>`);var n=Date.now()-o;s.clicks.push({element:t,x:e.pageX,y:e.pageY,timestamp:n})}function p(e){var t=Date.now()-o;s.keypresses.push({key:e.key,timestamp:t})}function l(){o=Date.now(),i||(document.addEventListener("mousemove",r,{passive:!0}),i=setInterval(c,e)),document.addEventListener("click",m,{passive:!0}),document.addEventListener("keypress",p,{passive:!0}),console.log("jimmyscript.js: Tracking started.")}function d(){var e,t;document.removeEventListener("mousemove",r),clearInterval(i),i=null,document.removeEventListener("click",m),document.removeEventListener("keypress",p),Object.keys(s).some(e=>0<s[e].length)&&(e=JSON.stringify(s),t=new Blob([e],{type:"application/json"}),navigator.sendBeacon?(navigator.sendBeacon(n,t),console.log("jimmyscript.js: Data sent via sendBeacon on page unload.")):(console.warn("jimmyscript.js: navigator.sendBeacon not supported. Using fetch as a fallback."),fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:e}).catch(e=>console.error("jimmyscript.js: Failed to send data:",e)))),console.log("jimmyscript.js: Tracking stopped. Final profile:",s)}window.jimmyscript={getProfile:()=>JSON.parse(JSON.stringify(s)),reset:()=>{s.mousepath=[],s.clicks=[],s.keypresses=[],o=Date.now(),console.log("jimmyscript.js: Profile reset.")},start:l,stop:d},document.addEventListener("DOMContentLoaded",l),window.addEventListener("beforeunload",d)}();